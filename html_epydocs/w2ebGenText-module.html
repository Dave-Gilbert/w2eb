<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>w2ebGenText</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Module&nbsp;w2ebGenText
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="w2ebGenText-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module w2ebGenText</h1><p class="nomargin-top"><span class="codelink"><a href="w2ebGenText-pysrc.html">source&nbsp;code</a></span></p>
<hr />
<div class="fields">      <p><strong>Author:</strong>
        Dave Gilbert
      </p>
      <p><strong>Contact:</strong>
        dave.wm.gilbert@gmail.com
      </p>
      <p><strong>License:</strong>
        GPLv3
      </p>
      <p><strong>Requires:</strong>
        Python 2.7, wget, Image Magick's convert, Beautiful Soup, Calibre
      </p>
      <p><strong>Since:</strong>
        2019.04.10
      </p>
      <p><strong>Version:</strong>
        0.3
      </p>
</div><!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextStripSquareBr" class="summary-sig-name">GenTextStripSquareBr</a>(<span class="summary-sig-arg">par_text</span>)</span><br />
      Remove any reference like data surrounded by square brackets [*]</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextStripSquareBr">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextShortFoot" class="summary-sig-name">GenTextShortFoot</a>(<span class="summary-sig-arg">note0_in</span>)</span><br />
      Generate the text for the short footnote, about MIN_WORDS long.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextShortFoot">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextFootRef" class="summary-sig-name">GenTextFootRef</a>(<span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">tag_href</span>,
        <span class="summary-sig-arg">yes_i</span>)</span><br />
      Generate a reference for a footnote.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextFootRef">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTexTag2Str" class="summary-sig-name">GenTexTag2Str</a>(<span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">allow_refs</span>,
        <span class="summary-sig-arg">allow_img</span>,
        <span class="summary-sig-arg">tag_pdh</span>,
        <span class="summary-sig-arg">part_string</span>,
        <span class="summary-sig-arg">sep</span>)</span><br />
      Build up the partial string by appending the rendering of the current
      tag</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTexTag2Str">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextWordsFromTags" class="summary-sig-name">GenTextWordsFromTags</a>(<span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">head</span>,
        <span class="summary-sig-arg">allow_refs</span>)</span><br />
      Translate a tag into a list of paragraphs, up to the first heading.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextWordsFromTags">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextLongAndShort" class="summary-sig-name">GenTextLongAndShort</a>(<span class="summary-sig-arg">note_list</span>,
        <span class="summary-sig-arg">id_anch</span>,
        <span class="summary-sig-arg">url</span>,
        <span class="summary-sig-arg">foot_title</span>,
        <span class="summary-sig-arg">notes</span>,
        <span class="summary-sig-arg">note0</span>,
        <span class="summary-sig-arg">num</span>)</span><br />
      Footnotes include both a long and short version, generate both here</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextLongAndShort">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextMakeFootDict" class="summary-sig-name">GenTextMakeFootDict</a>(<span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">note_list</span>,
        <span class="summary-sig-arg">url</span>,
        <span class="summary-sig-arg">foot_title</span>,
        <span class="summary-sig-arg">notes</span>)</span><br />
      Construct the foot dictionary from the raw text summary.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextMakeFootDict">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextFootNote" class="summary-sig-name">GenTextFootNote</a>(<span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">bl</span>)</span><br />
      Generate the text for footnotes, both long and short.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextFootNote">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextSummarizeFootNote" class="summary-sig-name">GenTextSummarizeFootNote</a>(<span class="summary-sig-arg">opts</span>,
        <span class="summary-sig-arg">bl</span>)</span><br />
      Summarize the article represented by bl.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextSummarizeFootNote">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="w2ebGenText-module.html#GenTextGetFootNote" class="summary-sig-name">GenTextGetFootNote</a>(<span class="summary-sig-arg">opts</span>)</span><br />
      Footnotes are derived from entire articles, use the global fields in 
      opts to generate a summary</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextGetFootNote">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="NOTE_MAX_PAR"></a><span class="summary-name">NOTE_MAX_PAR</span> = <code title="10">10</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="MIN_WORDS"></a><span class="summary-name">MIN_WORDS</span> = <code title="15">15</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="G_our_print_version_file"></a><span class="summary-name">G_our_print_version_file</span> = <code title="''"><code class="variable-quote">'</code><code class="variable-string"></code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="HMAX"></a><span class="summary-name">HMAX</span> = <code title="671">671</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="IMAGE_FIG"></a><span class="summary-name">IMAGE_FIG</span> = <code title="['.gif', '.GIF', '.png', '.PNG']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">.gif</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.GIF</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.png</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.PNG</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="IMAGE_PIC"></a><span class="summary-name">IMAGE_PIC</span> = <code title="['.jpg', '.JPG', 'jpeg', 'JPEG']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">.jpg</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.JPG</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">jpeg</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">JPEG</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="IMAGE_SVG"></a><span class="summary-name">IMAGE_SVG</span> = <code title="['.svg', '.SVG']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">.svg</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.SVG</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="IM_SCALEex"></a><span class="summary-name">IM_SCALEex</span> = <code title="25">25</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="IM_SCALEperc"></a><span class="summary-name">IM_SCALEperc</span> = <code title="'300%'"><code class="variable-quote">'</code><code class="variable-string">300%</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="IM_SCALEpx"></a><span class="summary-name">IM_SCALEpx</span> = <code title="3">3</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="MAX_SCALEpx"></a><span class="summary-name">MAX_SCALEpx</span> = <code title="4">4</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="MIN_IMAGEpxW"></a><span class="summary-name">MIN_IMAGEpxW</span> = <code title="580">580</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="Punc1"></a><span class="summary-name">Punc1</span> = <code title="['.', '?', '!']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">.</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">?</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">!</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="Punc2"></a><span class="summary-name">Punc2</span> = <code title="[',', ':', ';']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">,</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">:</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">;</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="Punc3"></a><span class="summary-name">Punc3</span> = <code title="[')', ']', '}', '&gt;']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">)</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">]</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">}</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&gt;</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="w2ebGenText-module.html#Punc4" class="summary-name">Punc4</a> = <code title="['@', '#', '$', '/', '\\', '%', '^', '&amp;', '*', '(', '[', '{', '&lt;']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">@</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">#</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">$</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">/</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">\\</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">%</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">^</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&amp;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">*</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">(</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">[</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="Punc_lb"></a><span class="summary-name">Punc_lb</span> = <code title="[')', ']', '}', '&gt;']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">)</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">]</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">}</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&gt;</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="Punc_rb"></a><span class="summary-name">Punc_rb</span> = <code title="['(', '[', '{', '&lt;']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">(</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">[</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">{</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&lt;</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="SUFFIX_OT"></a><span class="summary-name">SUFFIX_OT</span> = <code title="['.ico', '.php', '.pdf', '.PDF']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">.ico</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.php</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.pdf</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">.PDF</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="W2EBID"></a><span class="summary-name">W2EBID</span> = <code title="'w2eb_base_id'"><code class="variable-quote">'</code><code class="variable-string">w2eb_base_id</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="W2EBRI"></a><span class="summary-name">W2EBRI</span> = <code title="'w2eb_ret_'"><code class="variable-quote">'</code><code class="variable-string">w2eb_ret_</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="W2EB_BLM"></a><span class="summary-name">W2EB_BLM</span> = <code title="'W2EB_BACK_LINK_LIST_GOES_HERE'"><code class="variable-quote">'</code><code class="variable-string">W2EB_BACK_LINK_LIST_GOES_HERE</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="w2ebGenText-module.html#WGET_OPTS" class="summary-name">WGET_OPTS</a> = <code title="'  --timeout=10  --tries=2  --html-extension  --restrict-file-names=un\
ix  --page-requisites  -k  --no-parent  --backups=0  --level=0  '"><code class="variable-quote">'</code><code class="variable-string">  --timeout=10  --tries=2  --html-extension  --re</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="None">None</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="GenTextStripSquareBr"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextStripSquareBr</span>(<span class="sig-arg">par_text</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextStripSquareBr">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove any reference like data surrounded by square brackets [*]</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>par_text</code></strong> - A string representing a paragraph</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>Simplified paragraph text</dd>
  </dl>
</td></tr></table>
</div>
<a name="GenTextShortFoot"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextShortFoot</span>(<span class="sig-arg">note0_in</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextShortFoot">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate the text for the short footnote, about MIN_WORDS long.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>note0_in</code></strong> - The first paragraph pulled out of an article, usually several 
          sentences long.</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>A footnote style summary, possibly an incomplete sentence.</dd>
  </dl>
</td></tr></table>
</div>
<a name="GenTextFootRef"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextFootRef</span>(<span class="sig-arg">opts</span>,
        <span class="sig-arg">tag_href</span>,
        <span class="sig-arg">yes_i</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextFootRef">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate a reference for a footnote.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
        <li><strong class="pname"><code>tag_href</code></strong> - B Soup object representing a tag with an &quot;href&quot; 
          attribute</li>
        <li><strong class="pname"><code>yes_i</code></strong> - Whether the internet 'i' shows up in the text</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>(ustr - something to use in place of the anchor tag)</dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        References in footnotes themselves can get messy quickly, so we 
        only allow them in reused footnotes from the original article. Also
        we suppress them if they point to another footnote since we are in 
        the process of renaming all footnote anchors.
      </p>
</div></td></tr></table>
</div>
<a name="GenTexTag2Str"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTexTag2Str</span>(<span class="sig-arg">opts</span>,
        <span class="sig-arg">allow_refs</span>,
        <span class="sig-arg">allow_img</span>,
        <span class="sig-arg">tag_pdh</span>,
        <span class="sig-arg">part_string</span>,
        <span class="sig-arg">sep</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTexTag2Str">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Build up the partial string by appending the rendering of the current 
  tag</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
        <li><strong class="pname"><code>allow_refs</code></strong> - Boolean, whether we allow references in the string</li>
        <li><strong class="pname"><code>allow_img</code></strong> - Boolean, whether we allow images to appear in the string</li>
        <li><strong class="pname"><code>tag_pdh</code></strong> - B Soup object, of many possible types, paragraph, divisor, etc.</li>
        <li><strong class="pname"><code>part_string</code></strong> - any incomplete string evaluated so far</li>
        <li><strong class="pname"><code>sep</code></strong> - seperator</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>- words  updated word count
          <ul>
            <li>
              part_string  modified partial string
            </li>
          </ul></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        This function may be called recursively for certain tags
      </p>
</div></td></tr></table>
</div>
<a name="GenTextWordsFromTags"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextWordsFromTags</span>(<span class="sig-arg">opts</span>,
        <span class="sig-arg">head</span>,
        <span class="sig-arg">allow_refs</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextWordsFromTags">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Translate a tag into a list of paragraphs, up to the first 
  heading.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
        <li><strong class="pname"><code>head</code></strong> - B Soup tag with potentially a number of children</li>
        <li><strong class="pname"><code>allow_refs</code></strong> - Allow references to be included as part of the footnote</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>(words - the total number of words found, note_list - a list of 
          paragraphs to make notes or footnotes)</dd>
  </dl>
<div class="fields">      <strong>Notes:</strong>
      <ul class="nomargin-top">
        <li>
        For footnotes generated from links to Wikipedia we include the 
        Wikipedia reference at the end. For footnotes that are reused from 
        the original we attempt to recycle them. XXX
        </li>
        <li>
        This function walks through the list of descendents searching for 
        at least MIN_WORDS to construct its first paragraph. If the first 
        paragraph is less than MIN_WORDS it will merge subsequent 
        paragraphs.
        <p>The search stops when NOTE_MAX_PAR paragraphs are reached, or 
        when a major heading is reached.</p>
        <p>If a major heading is encountered before we have even seen 
        MIN_WORDS, then</p>
        </li>
      </ul>
</div></td></tr></table>
</div>
<a name="GenTextLongAndShort"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextLongAndShort</span>(<span class="sig-arg">note_list</span>,
        <span class="sig-arg">id_anch</span>,
        <span class="sig-arg">url</span>,
        <span class="sig-arg">foot_title</span>,
        <span class="sig-arg">notes</span>,
        <span class="sig-arg">note0</span>,
        <span class="sig-arg">num</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextLongAndShort">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Footnotes include both a long and short version, generate both 
  here</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>note_list</code></strong> - list of strings, each string represents a paragraph of a footnote</li>
        <li><strong class="pname"><code>id_anch</code></strong> - The id attribute, or anchor used to link to the footnote</li>
        <li><strong class="pname"><code>url</code></strong> - A reference for complete information</li>
        <li><strong class="pname"><code>foot_title</code></strong> - string, the label identifying the footnote</li>
        <li><strong class="pname"><code>notes</code></strong> - if == 'never', only generate the footnote, not the long note</li>
        <li><strong class="pname"><code>note0</code></strong> - string, the shortened text of the footnote, about MAX_WORDS long</li>
        <li><strong class="pname"><code>num</code></strong> - integer, the number associated with the footnote</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>(shortnote - the short version, aka a footnote, long_note_list - 
          the long version, a list of paragraphs)</dd>
  </dl>
</td></tr></table>
</div>
<a name="GenTextMakeFootDict"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextMakeFootDict</span>(<span class="sig-arg">opts</span>,
        <span class="sig-arg">note_list</span>,
        <span class="sig-arg">url</span>,
        <span class="sig-arg">foot_title</span>,
        <span class="sig-arg">notes</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextMakeFootDict">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Construct the foot dictionary from the raw text summary. Add backlink,
  number etc.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
        <li><strong class="pname"><code>note_list</code></strong> - list of strings, each string represents a paragraph of a footnote</li>
        <li><strong class="pname"><code>url</code></strong> - A reference for complete information</li>
        <li><strong class="pname"><code>foot_title</code></strong> - string, the label identifying the footnote</li>
        <li><strong class="pname"><code>notes</code></strong> - if == 'never', only generate the footnote, not the long note</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>foot_dict - a structure with several standard entries</dd>
  </dl>
<div class="fields">      <strong>Notes:</strong>
      <ul class="nomargin-top">
        <li>
        Kindle has a footnote feature where it creates a small box on top 
        of the text where the footnote appears, however, it doesn't work 
        consistently. Sometimes there is no pop-up, at other times the 
        popup is there, but it includes too many footnotes.
        </li>
        <li>
        A boolean is included to enable it one day, but for not it simply 
        doesn't work. The backlink needs to be kept separate from the id to
        disable it. keeping them together only sometimes enables it, and 
        often the Kindle can't seem to find the end of the footnote.
        <p>Popups seem to be triggered by references that include 
        backlinks. Our backlink is intentionally separated from our anchor 
        to disable this feature.</p>
        </li>
      </ul>
</div></td></tr></table>
</div>
<a name="GenTextFootNote"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextFootNote</span>(<span class="sig-arg">opts</span>,
        <span class="sig-arg">bl</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextFootNote">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Generate the text for footnotes, both long and short.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
        <li><strong class="pname"><code>bl</code></strong> - Beautiful Soup representation of an HTML web page.</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd><ul>
            <li>
              err: any error,
            </li>
            <li>
              foot_dict: a structure with several fields
            </li>
          </ul></dd>
  </dl>
<div class="fields">      <strong>Notes:</strong>
      <ul class="nomargin-top">
        <li>
        foot_dict structure
        <ul>
          <li>
            'short_foot' short versions of a footnote
          </li>
          <li>
            'long_foot' long versions of a footnote
          </li>
          <li>
            'foot_title' name of the footnote, usually the link
          </li>
          <li>
            'id_anch' return anchor for the footnote
          </li>
          <li>
            'msg' whether a debug message has been generated)
          </li>
        </ul>
        </li>
        <li>
        <p>Seems to be the single wikimedia tag defining text content.</p>
        <p>Sort of, found some cases where this wasn't true, for example: 
        https://en.wikibooks.org/wiki/Special:Categories</p>
        </li>
      </ul>
</div></td></tr></table>
</div>
<a name="GenTextSummarizeFootNote"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextSummarizeFootNote</span>(<span class="sig-arg">opts</span>,
        <span class="sig-arg">bl</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextSummarizeFootNote">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Summarize the article represented by bl. Save a representation in the 
  footnote dir.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
        <li><strong class="pname"><code>bl</code></strong> - Beautiful Soup representation of an HTML web page.</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>(err, or a dictionary of footnote items)</dd>
  </dl>
</td></tr></table>
</div>
<a name="GenTextGetFootNote"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">GenTextGetFootNote</span>(<span class="sig-arg">opts</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="w2ebGenText-pysrc.html#GenTextGetFootNote">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Footnotes are derived from entire articles, use the global fields in 
  opts to generate a summary</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>opts</code></strong> - Dictionary of common CLI parameters. See StartupGetOptions()</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd><ul>
            <li>
              err: None on success, a descriptive error otherwise
            </li>
            <li>
              foot_dict: Dictionary structure defining a footnote and note
            </li>
          </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="Punc4"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">Punc4</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">@</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">#</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">$</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">/</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">\\</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">%</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">^</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&amp;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">*</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">(</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">[</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">{</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&lt;</code><code class="variable-quote">'</code><code class="variable-group">]</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="WGET_OPTS"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">WGET_OPTS</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-quote">'</code><code class="variable-string">  --timeout=10  --tries=2  --html-extension  --restrict-file-names=un</code><span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
<code class="variable-string">ix  --page-requisites  -k  --no-parent  --backups=0  --level=0  </code><code class="variable-quote">'</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sat Feb  1 10:27:19 2020
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
